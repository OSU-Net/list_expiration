<!DOCTYPE html>
<html>
<head>

</head>
<body>
    <div class="border">
        {% for listEntry in lists %}
        <div name="list_div" id="{{listEntry.id}}" class="list_entry">
        
            <div name="list_name" class="list_field">
                <p><b>List Name:</b></p>
                <p>{{listEntry.name}}</p>
            </div>

            <div name="expire_date" class="list_field">
                <p><b>List Expiration Date:</b></p>
                <p>{{listEntry.expire_date}}</p>
            </div>

            <button name="edit_button" id="edit_button_{{listEntry.id}}" class="edit_button">Edit</button>
        </div>
        {% endfor %}

        <form action="/logout/" method="post"> {% csrf_token %}
            <input name="logout" type="submit" value="logout" />
        </form>
    </div>
</body>

{% load list_extras %}
{% load staticfiles %}
<script src="{% static 'jquery-1.11.0.js' %}"></script>

<link href="{% static 'calendar/calendar_control.css' %}"
    rel="stylesheet" type="text/css"/>

<script src="{% static 'calendar/calendar_control.js' %}"
    language="javascript"></script>

<link href="{% static 'index.css' %}"
    rel="stylesheet" type="text/css"/>

<script src="{% static 'email_list.js' %}"
    language="javascript"></script>
    
<script src="{% static 'email_lists.js' %}"
    language="javascript"></script>

<script language="javascript">
    var list_array = new Array();
    {% for listEntry in lists %}

        list_array.push(new EmailList(
            {{ listEntry.id }},
            "{{ listEntry.name }}",
            "{{ listEntry|format_expire_date }}"
        ));
        
    {% endfor %}

    var email_lists = new EmailLists(list_array);
</script>

<script src="{% static 'index.js' %}"
    language="javascript"></script>

</html>